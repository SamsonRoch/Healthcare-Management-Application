┌─────────────────────────────────────────────────────────────────────────┐
│                  Patient Management Application Architecture             │
└─────────────────────────────────────────────────────────────────────────┘

┌───────────────────────────────┐         ┌───────────────────────────────┐
│       PRESENTATION TIER       │         │        APPLICATION TIER       │
│                               │         │                               │
│  ┌─────────────────────────┐  │         │  ┌─────────────────────────┐  │
│  │      CLIENT SIDE        │  │         │  │     ADMIN BACKEND       │  │
│  │                         │  │         │  │                         │  │
│  │  ┌─────────────────┐    │  │         │  │  ┌─────────────────┐    │  │
│  │  │                 │    │  │         │  │  │                 │    │  │
│  │  │    Patient      │────┼──┼─────────┼──┼──│  Administrator  │    │  │
│  │  │     User        │    │  │         │  │  │                 │    │  │
│  │  │                 │    │  │         │  │  └─────────────────┘    │  │
│  │  └─────────────────┘    │  │         │  │                         │  │
│  │                         │  │         │  │  ┌─────────────────┐    │  │
│  │  ┌─────────────────┐    │  │         │  │  │                 │    │  │
│  │  │                 │    │  │         │  │  │   Node.js API   │    │  │
│  │  │  FLUTTER APP    │────┼──┼─────────┼──┼──│                 │    │  │
│  │  │                 │    │  │         │  │  └─────────────────┘    │  │
│  │  └─────────────────┘    │  │         │  │                         │  │
│  │                         │  │         │  │  ┌─────────────────┐    │  │
│  │  ┌─────────────────┐    │  │         │  │  │                 │    │  │
│  │  │                 │    │  │         │  │  │    Firebase     │    │  │
│  │  │   Doctor        │────┼──┼─────────┼──┼──│    Services     │    │  │
│  │  │    User         │    │  │         │  │  │                 │    │  │
│  │  │                 │    │  │         │  │  └─────────────────┘    │  │
│  │  └─────────────────┘    │  │         │  │                         │  │
│  │                         │  │         │  │  ┌─────────────────┐    │  │
│  │  ┌─────────────────┐    │  │         │  │  │                 │    │  │
│  │  │                 │    │  │         │  │  │  Receptionist   │    │  │
│  │  │  Local Storage  │    │  │         │  │  │   Interface     │    │  │
│  │  │    (SQLite)     │    │  │         │  │  │                 │    │  │
│  │  │                 │    │  │         │  │  └─────────────────┘    │  │
│  │  └─────────────────┘    │  │         │  │                         │  │
│  │                         │  │         │  └─────────────────────────┘  │
│  └─────────────────────────┘  │         │                               │
│                               │         │                               │
└───────────────┬───────────────┘         └───────────────┬───────────────┘
                │                                         │
                │                                         │
                │                                         │
                │         ┌───────────────────┐          │
                │         │  Firebase Auth    │          │
                └─────────│                   │──────────┘
                          │  Authentication   │
                ┌─────────│                   │──────────┐
                │         └───────────────────┘          │
                │                                         │
                │                                         │
┌───────────────┴───────────────┐         ┌───────────────┴───────────────┐
│           DATA TIER           │         │       EXTERNAL SERVICES       │
│                               │         │                               │
│  ┌─────────────────────────┐  │         │  ┌─────────────────────────┐  │
│  │                         │  │         │  │                         │  │
│  │   Firebase Firestore    │  │         │  │     Firebase Storage    │  │
│  │                         │  │         │  │                         │  │
│  │  - Users Collection     │  │         │  │  - Medical Documents    │  │
│  │  - Appointments         │  │         │  │  - Patient Records      │  │
│  │  - Medical Records      │  │         │  │  - Profile Images       │  │
│  │                         │  │         │  │                         │  │
│  └─────────────────────────┘  │         │  └─────────────────────────┘  │
│                               │         │                               │
│  ┌─────────────────────────┐  │         │  ┌─────────────────────────┐  │
│  │                         │  │         │  │                         │  │
│  │   Real-time Database    │◄─┼─────────┼──│    External APIs        │  │
│  │                         │  │         │  │    (if applicable)      │  │
│  └─────────────────────────┘  │         │  │                         │  │
│                               │         │  └─────────────────────────┘  │
└───────────────────────────────┘         └───────────────────────────────┘

                                Patient Management Application

┌───────────────────────┐         ┌───────────────────────────────────┐         ┌───────────────────────┐
│   Application Layer   │         │         Business Logic Layer       │         │     Database Layer    │
│                       │         │                                    │         │                       │
│  ┌─────────────────┐  │         │  ┌──────────────┐    ┌──────────┐  │         │  ┌─────────────────┐  │
│  │                 │  │         │  │              │    │          │  │         │  │                 │  │
│  │   Flutter       │  │         │  │   Firebase   │    │  Cloud   │  │         │  │    Firebase     │  │
│  │   Mobile App    │────────────────▶  Functions  │◄───▶ Services │  │         │  │    Firestore    │  │
│  │                 │  │         │  │              │    │          │  │         │  │    Database     │  │
│  └─────────────────┘  │         │  └──────────────┘    └──────────┘  │         │  └────────┬────────┘  │
│          ▲            │         │           ▲                ▲        │         │           │           │
└──────────┼────────────┘         └───────────┼────────────────┼────────┘         └───────────┼───────────┘
           │                                  │                │                              │
           │                                  │                │                              │
           │                                  │                │                              │
           │            ┌───────────────────────────────────────┐                            │
           │            │                                       │                            │
           └────────────┤            Internet                   ├────────────────────────────┘
                        │                                       │
                        └───────────────────────────────────────┘
+--------------------+     +---------------------+
| Authentication     |     | User Management     |
| Module             |<---->| Module              |
+--------------------+     +---------------------+
          |                       ^
          |                       |
          v                       |
+--------------------+     +---------------------+
| Database Module    |     | Patient Records     |
| (Firestore, SQLite)|<---->| Module              |
+--------------------+     +---------------------+
          ^                       ^
          |                       |
          |                       |
          |                       v
+--------------------+     +---------------------+
| Staff Management   |     | Appointment         |
| Module             |     | Scheduling Module   |
+--------------------+     +---------------------+
          |                       ^
          |                       |
          v                       |
+--------------------+     +---------------------+
| Backend Server     |     | Notification        |
| Module (Node.js)   |     | Module              |
+--------------------+     +---------------------+
          ^                       ^
          |                       |
          |                       |
          |                       v
+--------------------+     +---------------------+
| Dashboard Module   |     |                   |
+--------------------+     |                   |

┌─────────────────────────────────────────────────────────────────────────────┐
│                    Patient Appointment Scheduling Process                    │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────┐          ┌─────────┐          ┌─────────┐          ┌─────────┐
│ Patient  │          │  App    │          │ Server  │          │Database │
└────┬────┘          └────┬────┘          └────┬────┘          └────┬────┘
     │                     │                    │                    │
     │  Login Request      │                    │                    │
     │────────────────────>│                    │                    │
     │                     │   Authenticate     │                    │
     │                     │───────────────────>│                    │
     │                     │                    │  Verify Credentials│
     │                     │                    │───────────────────>│
     │                     │                    │                    │
     │                     │                    │<───────────────────│
     │                     │<───────────────────│                    │
     │<────────────────────│                    │                    │
     │                     │                    │                    │
     │  Request Dashboard  │                    │                    │
     │────────────────────>│                    │                    │
     │                     │  Fetch User Data   │                    │
     │                     │───────────────────>│                    │
     │                     │                    │  Query User Profile│
     │                     │                    │───────────────────>│
     │                     │                    │                    │
     │                     │                    │<───────────────────│
     │                     │<───────────────────│                    │
     │<────────────────────│                    │                    │
     │                     │                    │                    │
     │ Select Book Appt    │                    │                    │
     │────────────────────>│                    │                    │
     │                     │ Request Available  │                    │
     │                     │ Time Slots         │                    │
     │                     │───────────────────>│                    │
     │                     │                    │ Query Availability │
     │                     │                    │───────────────────>│
     │                     │                    │                    │
     │                     │                    │<───────────────────│
     │                     │<───────────────────│                    │
     │<────────────────────│                    │                    │
     │                     │                    │                    │
     │ Select Time Slot    │                    │                    │
     │────────────────────>│                    │                    │
     │                     │ Book Appointment   │                    │
     │                     │───────────────────>│                    │
     │                     │                    │ Check Conflicts    │
     │                     │                    │───────────────────>│
     │                     │                    │                    │
     │                     │                    │<───────────────────│
     │                     │                    │                    │
     │                     │                    │ [No Conflict]      │
     │                     │                    │ Save Appointment   │
     │                     │                    │───────────────────>│
     │                     │                    │                    │
     │                     │                    │<───────────────────│
     │                     │<───────────────────│                    │
     │<────────────────────│                    │                    │
     │                     │                    │                    │
     │                     │ Send Notification  │                    │
     │                     │───────────────────>│                    │
     │                     │                    │ Store Notification │
     │                     │                    │───────────────────>│
     │                     │                    │                    │
     │ Receive Confirmation│                    │                    │
     │<────────────────────│                    │                    │
     │                     │                    │                    │
┌────┴────┐          ┌────┴────┐          ┌────┴────┐          ┌────┴────┐
│ Patient  │          │  App    │          │ Server  │          │Database │
└─────────┘          └─────────┘          └─────────┘          └─────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│                      PATIENT MANAGEMENT APPLICATION                          │
└───────────────────────────────────┬─────────────────────────────────────────┘
                                    │
    ┌───────────────────────────────┼───────────────────────────────────┐
    │                               │                                   │
┌───▼───────────────┐      ┌────────▼────────┐               ┌─────────▼─────────┐
│   PRESENTATION    │      │   CORE MODULES  │               │   INFRASTRUCTURE  │
│      LAYER        │      │                 │               │       LAYER       │
└───────┬───────────┘      └────────┬────────┘               └─────────┬─────────┘
        │                           │                                  │
┌───────┴───────────┐      ┌────────┴────────┐               ┌─────────┴─────────┐
│                   │      │                 │               │                   │
│  ┌─────────────┐  │      │ ┌─────────────┐ │               │ ┌─────────────┐  │
│  │    Views    │  │      │ │   Services  │ │               │ │  Firebase   │  │
│  │             │  │      │ │             │ │               │ │  Services   │  │
│  │ - LoginView │  │      │ │ - AuthService│               │ │             │  │
│  │ - PatientView│ │      │ │ - DatabaseSvc│               │ │ - Firestore │  │
│  │ - DoctorView │ │      │ │ - NavigationSvc              │ │ - Auth      │  │
│  │ - AdminView  │ │      │ │ - StorageSvc │               │ │ - Storage   │  │
│  │ - ReceptionistView    │ │ - NotificationSvc            │ │ - Functions │  │
│  └─────────────┘  │      │ └─────────────┘ │               │ └─────────────┘  │
│                   │      │                 │               │                   │
│  ┌─────────────┐  │      │ ┌─────────────┐ │               │ ┌─────────────┐  │
│  │  Widgets    │  │      │ │   Models    │ │               │ │ Local Data  │  │
│  │             │  │      │ │             │ │               │ │  Storage    │  │
│  │ - AppointmentCard     │ │ - User      │ │               │ │             │  │
│  │ - PatientCard │ │      │ │ - Patient   │ │               │ │ - SQLite    │  │
│  │ - DoctorCard  │ │      │ │ - Doctor    │ │               │ │ - SharedPrefs│ │
│  │ - MedicalRecordItem   │ │ - Appointment│ │               │ │ - SecureStore│ │
│  │ - CustomInputs │ │      │ │ - MedicalRecord             │ └─────────────┘  │
│  └─────────────┘  │      │ └─────────────┘ │               │                   │
│                   │      │                 │               │ ┌─────────────┐  │
│  ┌─────────────┐  │      │ ┌─────────────┐ │               │ │ Networking  │  │
│  │    Theme    │  │      │ │ Controllers │ │               │ │             │  │
│  │             │  │      │ │             │ │               │ │ - API Client│  │
│  │ - AppTheme  │  │      │ │ - AuthController              │ │ - HTTP      │  │
│  │ - Colors    │  │      │ │ - PatientController          │ │ - WebSockets │  │
│  │ - Typography │ │      │ │ - AppointmentController      │ └─────────────┘  │
│  │ - Dimensions │ │      │ │ - MedicalRecordController    │                   │
│  └─────────────┘  │      │ └─────────────┘ │               └───────────────────┘
│                   │      │                 │
│  ┌─────────────┐  │      │ ┌─────────────┐ │
│  │   Routes    │  │      │ │  Utilities  │ │
│  │             │  │      │ │             │ │
│  │ - Routes    │  │      │ │ - Validators│ │
│  │ - Navigation│  │      │ │ - Formatters│ │
│  │ - Guards    │  │      │ │ - Constants │ │
│  └─────────────┘  │      │ │ - Helpers   │ │
└───────────────────┘      │ └─────────────┘ │
                           │                 │
                           │ ┌─────────────┐ │
                           │ │ Service     │ │
                           │ │ Locator     │ │
                           │ │             │ │
                           │ │ - DI Container │
                           │ │ - Service Registry │
                           │ └─────────────┘ │
                           └─────────────────┘
                         ┌─────────────────────┐
                            │ Patient Management  │
                            │     Application     │
                            └──────────┬──────────┘
                                       │
        ┌───────────────────┬──────────┴───────────┬───────────────────┐
        │                   │                      │                   │
┌───────▼───────┐   ┌───────▼───────┐      ┌───────▼───────┐   ┌───────▼───────┐
│    Log In     │   │  Dashboard    │      │  Appointments │   │ Medical Records│
└───────┬───────┘   └───────┬───────┘      └───────┬───────┘   └───────┬───────┘
        │                   │                      │                   │
        │                   │                      │                   │
┌───────▼───────┐   ┌───────▼───────┐      ┌───────▼───────┐   ┌───────▼───────┐
│ Patient Login │   │Patient Profile│      │    Create     │   │ View History  │
└───────────────┘   └───────────────┘      └───────────────┘   └───────────────┘
        │                   │                      │                   │
┌───────▼───────┐   ┌───────▼───────┐      ┌───────▼───────┐   ┌───────▼───────┐
│ Doctor Login  │   │ Notifications │      │   Upcoming    │   │Add New Record │
└───────────────┘   └───────────────┘      └───────────────┘   └───────────────┘
        │                   │                      │                   │
┌───────▼───────┐   ┌───────▼───────┐      ┌───────▼───────┐   ┌───────▼───────┐
│ Receptionist   │   │ Doctor List   │      │   Completed   │   │ Share Records │
│   Login       │   │               │      │               │   │               │
└───────────────┘   └───────────────┘      └───────────────┘   └───────────────┘
        │                   │                      │                   │
┌───────▼───────┐   ┌───────▼───────┐      ┌───────▼───────┐   ┌───────▼───────┐
│ Admin Login   │   │ Quick Actions │      │ Reschedule    │   │ Prescriptions │
└───────────────┘   └───────────────┘      └───────────────┘   └───────────────┘
                                                  │
                                           ┌───────▼───────┐
                                           │ Appointment   │
                                           │   Details     │
                                           └───────────────┘

                                                                       ┌─────────────────────┐
                            │ Patient Management  │
                            │     Application     │
                            └──────────┬──────────┘
                                       │
        ┌───────────┬──────────┬──────┴───────┬──────────┬───────────┐
        │           │          │              │          │           │
┌───────▼───┐ ┌─────▼────┐ ┌───▼────┐  ┌──────▼─────┐ ┌──▼───┐ ┌─────▼─────┐
│  Log In   │ │Dashboard │ │Appointments│ Medical    │ │Billing│ │Settings/  │
│           │ │          │ │          │  │ Records   │ │      │ │ Profile   │
└───────┬───┘ └─────┬────┘ └───┬────┘  └──────┬─────┘ └──┬───┘ └─────┬─────┘
        │           │          │              │          │           │
        │           │          │              │          │           │
┌───────▼───┐ ┌─────▼────┐ ┌───▼────┐  ┌──────▼─────┐ ┌──▼───┐ ┌─────▼─────┐
│Patient    │ │Patient   │ │Create  │  │View History│ │Invoice│ │User       │
│Login      │ │Profile   │ │        │  │           │ │      │ │Profile     │
└───────────┘ └──────────┘ └────────┘  └───────────┘ └──────┘ └───────────┘
        │           │          │              │          │           │
┌───────▼───┐ ┌─────▼────┐ ┌───▼────┐  ┌──────▼─────┐ ┌──▼───┐ ┌─────▼─────┐
│Doctor     │ │Notificati│ Upcoming│  │Add Records │ │Payment│ │Preferences│
│Login      │ │          │ │        │  │           │ │Methods│ │           │
└───────────┘ └──────────┘ └────────┘  └───────────┘ └──────┘ └───────────┘
        │           │          │              │          │           │
┌───────▼───┐ ┌─────▼────┐ ┌───▼────┐  ┌──────▼─────┐ ┌──▼───┐ ┌─────▼─────┐
│Receptionist│ │Doctor    │ │Completed│  │Share      │ │Payment│ │Notification│
│Login      │ │List      │ │        │  │Records    │ │History│ │Settings    │
└───────────┘ └──────────┘ └────────┘  └───────────┘ └──────┘ └───────────┘
        │           │          │              │          │           │
┌───────▼───┐ ┌─────▼────┐ ┌───▼────┐  ┌──────▼─────┐ ┌──▼───┐ ┌─────▼─────┐
│Admin      │ │Quick     │ │Reschedule│ │Prescriptions│Insurance│ │Security   │
│Login      │ │Actions   │ │        │  │           │ │Claims │ │Settings    │
└───────────┘ └──────────┘ └────────┘  └───────────┘ └──────┘ └───────────┘
                              │              │
                       ┌──────▼──────┐ ┌─────▼──────┐
                       │Appointment  │ │Lab Results │
                       │Details      │ │            │
                       └─────────────┘ └────────────┘

                                                   ┌─────────────────────┐
                            │ Patient Management  │
                            │     Application     │
                            └──────────┬──────────┘
                                       │
        ┌───────────┬──────────┬──────┴───────┬──────────┬───────────┐
        │           │          │              │          │           │
┌───────▼───┐ ┌─────▼────┐ ┌───▼────┐  ┌──────▼─────┐ ┌──▼───┐ ┌─────▼─────┐
│  Log In   │ │Dashboards│ │Appointments│ Medical    │ │Billing│ │Settings/  │
│           │ │          │ │          │  │ Records   │ │      │ │ Profile   │
└───────┬───┘ └─────┬────┘ └───┬────┘  └──────┬─────┘ └──┬───┘ └─────┬─────┘
        │           │          │              │          │           │
        │           │          │              │          │           │
┌───────▼───┐ ┌─────▼────┐ ┌───▼────┐  ┌──────▼─────┐ ┌──▼───┐ ┌─────▼─────┐
│Patient    │ │Patient   │ │Create  │  │View History│ │Invoice│ │User       │
│Login      │ │Dashboard │ │        │  │           │ │      │ │Profile     │
└───────────┘ └──────────┘ └────────┘  └───────────┘ └──────┘ └───────────┘
        │     ┌─────┼────┐     │              │          │           │
┌───────▼───┐ │     │    │ ┌───▼────┐  ┌──────▼─────┐ ┌──▼───┐ ┌─────▼─────┐
│Doctor     │ │Appt.│Health│Upcoming│  │Add Records │ │Payment│ │Preferences│
│Login      │ │List │Stats │        │  │           │ │Methods│ │           │
└───────────┘ └─────┴────┘ └────────┘  └───────────┘ └──────┘ └───────────┘
        │                      │              │          │           │
┌───────▼───┐ ┌─────▼────┐ ┌───▼────┐  ┌──────▼─────┐ ┌──▼───┐ ┌─────▼─────┐
│Receptionist│ │Doctor   │ │Completed│  │Share      │ │Payment│ │Notification│
│Login      │ │Dashboard │ │        │  │Records    │ │History│ │Settings    │
└───────────┘ └──────────┘ └────────┘  └───────────┘ └──────┘ └───────────┘
        │     ┌─────┼────┐     │              │          │           │
┌───────▼───┐ │Patient│Daily│Reschedule│ ┌──────▼─────┐ ┌──▼───┐ ┌─────▼─────┐
│Admin      │ │Queue  │Stats│        │  │Prescriptions│Insurance│ │Security   │
│Login      │ └─────┴────┘ └────────┘  │           │ │Claims │ │Settings    │
└───────────┘ ┌─────▼────┐     │       └───────────┘ └──────┘ └───────────┘
              │Admin    │      │              │
              │Dashboard│┌─────▼────┐  ┌──────▼─────┐
              └──────────┘Appointment│  │Lab Results │
              ┌─────┼────┐│Details   │  │           │
              │System│User│└──────────┘  └───────────┘
              │Stats │Mgmt│
              └─────┴────┘

                                         ●
                                    │
                                    ▼
                                ┌───────┐
                                │ Login │
                                └───┬───┘
                                    │
                                    ▼
                              ┌───────────┐
                              │Authentication│
                              └─────┬─────┘
                                    │
                                    ▼
                                ┌───────┐ No
                                │ Valid?├───────┐
                                └───┬───┘       │
                                    │ Yes       │
                                    │           │
                                    ▼           │
                            ┌───────────────┐   │
                            │Navigate to Home│   │
                            └───────┬───────┘   │
                                    │           │
                                    │           │
        ┌───────────────────────────┼───────────┼───────────────────────┐
        │                           │           │                       │
        ▼                           ▼           │                       ▼
┌───────────────┐           ┌───────────────┐   │             ┌──────────────┐
│Patient Profile│           │ Appointments  │   │             │Medical Records│
└───────┬───────┘           └───────┬───────┘   │             └──────┬───────┘
        │                           │           │                    │
        │                           │           │                    │
        ▼                           ▼           │                    ▼
┌───────────────┐           ┌───────────────┐   │             ┌──────────────┐
│View/Edit Info │           │   Active      │   │             │ View History │
└───────────────┘           └───────┬───────┘   │             └──────────────┘
        │                           │           │                    │
        │                           ▼           │                    │
        │                   ┌───────────────┐   │                    ▼
        │                   │  Track Order  │   │             ┌──────────────┐
        │                   └───────────────┘   │             │Add New Record│
        │                           │           │             └──────────────┘
        │                           │           │                    │
        ▼                           ▼           │                    │
┌───────────────┐           ┌───────────────┐   │                    ▼
│ Notifications │           │   Completed   │   │             ┌──────────────┐
└───────────────┘           └───────┬───────┘   │             │Share Records │
        │                           │           │             └──────────────┘
        │                           ▼           │                    │
        │                   ┌───────────────┐   │                    │
        │                   │Review & Rating│   │                    │
        │                   └───────────────┘   │                    │
        │                           │           │                    │
        ▼                           ▼           │                    ▼
┌───────────────┐           ┌───────────────┐   │             ┌──────────────┐
│ Role-specific │           │  Reschedule   │   │             │Prescriptions │
│   Actions     │           └───────────────┘   │             └──────────────┘
└───────┬───────┘                   │           │                    │
        │                           │           │                    │
        │                           │           │                    │
        └───────────────────────────┼───────────┼────────────────────┘
                                    │           │
                                    ▼           │
                                ┌───────┐       │
                                │Logout │       │
                                └───┬───┘       │
                                    │           │
                                    ▼           │
                                    ●           │
                                                │
                                                │
                                                │
                                                │
                                                └───────────────┐
                                                                │
                                                                ▼
                                                          ┌───────────┐
                                                          │Error Page │
                                                          └───────────┘
                                                                                              ●
                                    │
                                    ▼
                                ┌───────┐
                                │ Login │
                                └───┬───┘
                                    │
                                    ▼
                              ┌───────────┐
                              │Authentication│
                              └─────┬─────┘
                                    │
                                    ▼
                                ┌───────┐ No
                                │ Valid?├───────┐
                                └───┬───┘       │
                                    │ Yes       │
                                    │           │
                                    ▼           │
                            ┌───────────────┐   │
                            │Doctor Dashboard│   │
                            └───────┬───────┘   │
                                    │           │
                                    │           │
        ┌───────────────────────────┼───────────┼───────────────────────┐
        │                           │           │                       │
        ▼                           ▼           │                       ▼
┌───────────────┐           ┌───────────────┐   │             ┌──────────────┐
│ View Schedule │           │ Patient List  │   │             │Medical Records│
└───────┬───────┘           └───────┬───────┘   │             └──────┬───────┘
        │                           │           │                    │
        ▼                           ▼           │                    ▼
┌───────────────┐           ┌───────────────┐   │             ┌──────────────┐
│ Today's       │           │ Search        │   │             │Create New    │
│ Appointments  │           │ Patient       │   │             │Record        │
└───────┬───────┘           └───────┬───────┘   │             └──────┬───────┘
        │                           │           │                    │
        ▼                           ▼           │                    ▼
┌───────────────┐           ┌───────────────┐   │             ┌──────────────┐
│ Check Patient │           │ View Patient  │   │             │Add           │
│ Queue         │           │ Details       │   │             │Prescription  │
└───────┬───────┘           └───────┬───────┘   │             └──────┬───────┘
        │                           │           │                    │
        ▼                           ▼           │                    ▼
┌───────────────┐           ┌───────────────┐   │             ┌──────────────┐
│ Start         │           │ View Medical  │   │             │Upload Test   │
│ Consultation  │           │ History       │   │             │Results       │
└───────┬───────┘           └───────────────┘   │             └──────────────┘
        │                                       │                    │
        ▼                                       │                    │
┌───────────────┐                               │                    │
│ Complete      │                               │                    │
│ Consultation  │                               │                    │
└───────┬───────┘                               │                    │
        │                                       │                    │
        ▼                                       │                    │
┌───────────────┐                               │                    │
│ Schedule      │                               │                    │
│ Follow-up     │                               │                    │
└───────────────┘                               │                    │
        │                                       │                    │
        └───────────────────────────────────────┼────────────────────┘
                                                │
                                                ▼
                                            ┌───────┐
                                            │Logout │
                                            └───┬───┘
                                                │
                                                ▼
                                                ●

                                                                                    ●
                                    │
                                    ▼
                                ┌───────┐
                                │ Login │
                                └───┬───┘
                                    │
                                    ▼
                              ┌───────────┐
                              │Authentication│
                              └─────┬─────┘
                                    │
                                    ▼
                                ┌───────┐ No
                                │ Valid?├───────┐
                                └───┬───┘       │
                                    │ Yes       │
                                    │           │
                                    ▼           │
                            ┌───────────────┐   │
                            │Receptionist   │   │
                            │Dashboard      │   │
                            └───────┬───────┘   │
                                    │           │
                                    │           │
        ┌───────────────────────────┼───────────┼───────────────────────┐
        │                           │           │                       │
        ▼                           ▼           │                       ▼
┌───────────────┐           ┌───────────────┐   │             ┌──────────────┐
│ Patient       │           │ Appointments  │   │             │Billing       │
│ Management    │           │               │   │             │              │
└───────┬───────┘           └───────┬───────┘   │             └──────┬───────┘
        │                           │           │                    │
        ▼                           ▼           │                    ▼
┌───────────────┐           ┌───────────────┐   │             ┌──────────────┐
│ Register New  │           │ Schedule      │   │             │Process       │
│ Patient       │           │ Appointment   │   │             │Payments      │
└───────┬───────┘           └───────┬───────┘   │             └──────┬───────┘
        │                           │           │                    │
        ▼                           ▼           │                    ▼
┌───────────────┐           ┌───────────────┐   │             ┌──────────────┐
│ Search        │           │ Check-in      │   │             │Generate      │
│ Patient       │           │ Patient       │   │             │Invoice       │
└───────┬───────┘           └───────┬───────┘   │             └──────────────┘
        │                           │           │                    │
        ▼                           ▼           │                    │
┌───────────────┐           ┌───────────────┐   │                    │
│ Update        │           │ Manage        │   │                    │
│ Patient Info  │           │ Waiting Room  │   │                    │
└───────────────┘           └───────┬───────┘   │                    │
                                    │           │                    │
                                    ▼           │                    │
                            ┌───────────────┐   │                    │
                            │ Check-out     │   │                    │
                            │ Patient       │   │                    │
                            └───────────────┘   │                    │
                                    │           │                    │
                                    │           │                    │
                                    └───────────┼────────────────────┘
                                                │
                                                ▼
                                            ┌───────┐
                                            │Logout │
                                            └───┬───┘
                                                │
                                                ▼
                                                ●
                                                                                    ●
                                    │
                                    ▼
                                ┌───────┐
                                │ Login │
                                └───┬───┘
                                    │
                                    ▼
                              ┌───────────┐
                              │Authentication│
                              └─────┬─────┘
                                    │
                                    ▼
                                ┌───────┐ No
                                │ Valid?├───────┐
                                └───┬───┘       │
                                    │ Yes       │
                                    │           │
                                    ▼           │
                            ┌───────────────┐   │
                            │Admin Dashboard│   │
                            └───────┬───────┘   │
                                    │           │
                                    │           │
        ┌───────────────────────────┼───────────┼───────────────────────┐
        │                           │           │                       │
        ▼                           ▼           │                       ▼
┌───────────────┐           ┌───────────────┐   │             ┌──────────────┐
│ User          │           │ System        │   │             │Reports       │
│ Management    │           │ Management    │   │             │              │
└───────┬───────┘           └───────┬───────┘   │             └──────┬───────┘
        │                           │           │                    │
        ▼                           ▼           │                    ▼
┌───────────────┐           ┌───────────────┐   │             ┌──────────────┐
│ Create User   │           │ View System   │   │             │Financial     │
│ Account       │           │ Logs          │   │             │Reports       │
└───────┬───────┘           └───────┬───────┘   │             └──────┬───────┘
        │                           │           │                    │
        ▼                           ▼           │                    ▼
┌───────────────┐           ┌───────────────┐   │             ┌──────────────┐
│ Manage        │           │ Configure     │   │             │Patient       │
│ Permissions   │           │ Settings      │   │             │Statistics    │
└───────┬───────┘           └───────┬───────┘   │             └──────┬───────┘
        │                           │           │                    │
        ▼                           ▼           │                    ▼
┌───────────────┐           ┌───────────────┐   │             ┌──────────────┐
│ Reset         │           │ Backup        │   │             │Doctor        │
│ Password      │           │ Database      │   │             │Performance   │
└───────────────┘           └───────┬───────┘   │             └──────────────┘
                                    │           │                    │
                                    ▼           │                    │
                            ┌───────────────┐   │                    │
                            │ Restore       │   │                    │
                            │ Database      │   │                    │
                            └───────────────┘   │                    │
                                    │           │                    │
                                    │           │                    │
                                    └───────────┼────────────────────┘
                                                │
                                                ▼
                                            ┌───────┐
                                            │Logout │
                                            └───┬───┘
                                                │
                                                ▼
                                                ●
                                    ┌───────────────┐
                                    │ Splash Screen │
                                    └───────┬───────┘
                                            │
                                            ▼
                                    ┌───────────────┐
                                    │     Login     │
                                    └───────┬───────┘
                                            │
                                            ▼
                                  ┌─────────────────┐
                                  │  Authentication │
                                  └────────┬────────┘
                                           │
                     ┌───────────────┐    │    ┌───────────────┐
                     │               │    │    │               │
                     ▼               │    │    │               ▼
             ┌───────────────┐       │    │    │       ┌───────────────┐
             │ Forgot Password│◄──────┘    │    └─────►│ Register New  │
             └───────┬───────┘             │            │   Account     │
                     │                     │            └───────────────┘
                     ▼                     │ True
             ┌───────────────┐             │
             │Reset Password │             │
             └───────────────┘             │
                                           │
                                           │
┌─────────────────────────────────────────────────────────────────────────────────────┐
│                                                                                     │
▼                                   ▼                      ▼                          ▼
┌─────────────────┐       ┌─────────────────┐    ┌─────────────────┐       ┌─────────────────┐
│Patient Dashboard│       │Doctor Dashboard │    │Admin Dashboard  │       │Receptionist     │
└────┬────┬───────┘       └────┬────┬───────┘    └────┬────┬───────┘       │Dashboard        │
     │    │                    │    │                 │    │                └────┬────┬───────┘
     │    │                    │    │                 │    │                     │    │
     ▼    ▼                    ▼    ▼                 ▼    ▼                     ▼    ▼
┌─────────────────┐       ┌─────────────────┐    ┌─────────────────┐       ┌─────────────────┐
│ Appointments    │       │ Patient List    │    │ User Management │       │ Check-In        │
└─────────────────┘       └─────────────────┘    └─────────────────┘       └─────────────────┘
┌─────────────────┐       ┌─────────────────┐    ┌─────────────────┐       ┌─────────────────┐
│ Medical Records │       │ Appointments    │    │ System Settings │       │ Appointment     │
└─────────────────┘       └─────────────────┘    └─────────────────┘       │ Scheduling      │
┌─────────────────┐       ┌─────────────────┐    ┌─────────────────┐       └─────────────────┘
│ Prescriptions   │       │ Medical Records │    │ Reports         │       ┌─────────────────┐
└─────────────────┘       └─────────────────┘    └─────────────────┘       │ Patient         │
┌─────────────────┐       ┌─────────────────┐    ┌─────────────────┐       │ Registration    │
│ Profile         │       │ Profile         │    │ Staff Management│       └─────────────────┘
└─────────────────┘       └─────────────────┘    └─────────────────┘       ┌─────────────────┐
                                                 ┌─────────────────┐       │ Billing         │
                                                 │ Audit Logs      │       └─────────────────┘
                                                 └─────────────────┘       ┌─────────────────┐
                                                                           │ Profile         │
                                                                           └─────────────────┘